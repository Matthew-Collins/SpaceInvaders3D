' Gambas class file

Inherits Box

Public Destroyed As Boolean
Public MaxCycle As Integer = 25
Public Cycle As Integer = MaxCycle + 1
Public CanFire As Boolean = True

Public Sub _new()

  Me.Size.x = 0.5
  Me.Size.y = 0.5
  Me.Size.z = 0.5

End

Public Sub Update()

  If Me.Cycle < MaxCycle
    Me.Cycle += 1
    Me.CanFire = False
  Else If Me.cycle = MaxCycle
    Me.Cycle += 1
    Me.CanFire = True
  Endif

End

Public Sub Fire(Screen As Screen)

  Dim Bullet As New Bullet

  If Not Me.Destroyed And Me.CanFire Then
    Me.Cycle = 0
    Bullet.x = Screen.Ship.x
    Screen.Bullets.Add(Bullet)
    Screen.ShipFire.Play()
  Endif

End
